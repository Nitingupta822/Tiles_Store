<!DOCTYPE html>
<html>

<head>
  <style>
    body {
      font-family: Helvetica;
      font-size: 12px;
    }

    h2,
    h3 {
      text-align: center;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    th,
    td {
      border: 1px solid #000;
      padding: 6px;
      text-align: center;
    }

    .right {
      text-align: right;
    }
  </style>
</head>

<body>
  <h2>Sita Ram Traders</h2>
  <h3>Bill</h3>

  <p><b>Invoice ID:</b> {{ bill.id }}</p>
  <p><b>Customer:</b> {{ bill.customer_name }}</p>
  {% if bill.customer_mobile %}
  <p><b>Mobile:</b> {{ bill.customer_mobile }}</p>
  {% endif %}
  <p><b>Date:</b> {{ bill.date.strftime('%d-%m-%Y') }}</p>
  <p><b>Billed By:</b> {{ session.get('user') }}</p>

  <hr />

  <table>
    <tr>
      <th>#</th>
      <th>Tile</th>
      <th>Size</th>
      <th>Price</th>
      <th>Qty</th>
      <th>Total</th>
    </tr>

    {% set subtotal = 0 %} {% for item in items %} {% set subtotal = subtotal
    + item.total %}
    <tr>
      <td>{{ loop.index }}</td>
      <td>{{ item.tile_name }}</td>
      <td>{{ item.size }}</td>
      <td>{{ item.price }}</td>
      <td>{{ item.quantity }}</td>
      <td>{{ item.total }}</td>
    </tr>
    {% endfor %}
  </table>

  <br />

  <table>
    <tr>
      <td class="right">Subtotal</td>
      <td class="right">{{ subtotal }}</td>
    </tr>
    <tr>
      <td class="right">GST ({{ bill.gst }}%)</td>
      <td class="right">{{ subtotal * bill.gst / 100 }}</td>
    </tr>
    <tr>
      <td class="right">Discount</td>
      <td class="right">{{ bill.discount }}</td>
    </tr>
    <tr>
      <th class="right">Grand Total</th>
      <th class="right">{{ bill.total }}</th>
    </tr>
  </table>
</body>

</html>